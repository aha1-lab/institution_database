<!-- views/show.ejs -->
<!DOCTYPE html>
<html>

<head>
    <title>View Recipe</title>
    <link rel="stylesheet" href="/styles.css">
</head>

<body>
    <div class="container">
        <h1>
            <%= recipe.title %>
        </h1>

        <% if (recipe.image) { %>
            <img src="<%= recipe.image %>" alt="<%= recipe.title %>" style="max-width: 500px;">
            <% } %>

                <div class="recipe-details">
                    <h2>Ingredients:</h2>
                    <ul>
                        <% recipe.ingredients.forEach(ingredient=> { %>
                            <li>
                                <%= ingredient %>
                            </li>
                            <% }); %>
                    </ul>

                    <h2>Instructions:</h2>
                    <p>
                        <%= recipe.instructions %>
                    </p>

                    <div class="meta-info">
                        <p><strong>Cooking Time:</strong>
                            <%= recipe.cookingTime %> minutes
                        </p>
                        <p><strong>Difficulty Level:</strong>
                            <%= recipe.difficulty %>
                        </p>
                        <p><strong>Added on:</strong>
                            <%= recipe.createdAt.toLocaleDateString() %>
                        </p>
                    </div>

                    <div class="actions">
                        <a href="/recipes">Back to All Recipes</a>
                        <a href="/recipes/<%= recipe._id %>/edit">Edit Recipe</a>
                        <form action="/recipes/<%= recipe._id %>?_method=DELETE" method="POST" style="display: inline;">
                            <button type="submit"
                                onclick="return confirm('Are you sure you want to delete this recipe?')">
                                Delete Recipe
                            </button>
                        </form>
                    </div>
                </div>
    </div>
</body>

</html>